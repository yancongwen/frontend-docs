# 面试题目汇总之 JS 部分

### 1. JS 有哪些基本数据类型、如何判断数据类型

- 七种基本数据类型：
  - 值类型：number、string、boolean、undefined、null、symbol
  - 引用类型：object
- 判断数据类型
  - 值类型用 typeof （null 是个例外）
  - 引用类型用 instanceof

### 2. == 隐式类型转换

转换规则：

- undefined == null，结果是 true。且它俩与所有其他值比较的结果都是 false
- String == Boolean，需要两个操作数同时转为 Number
- String/Boolean == Number，需要 String/Boolean 转为 Number
- Object == Primitive，需要 Object 转为 Primitive(具体通过 valueOf 和 toString 方法)

### 3. this 指向，改变 this 指向的几种方法

### 4. new 都做了什么

### 5. 什么是闭包，用途是什么

「函数」和「函数内部能访问到的变量」（也叫环境）的总和，就是一个闭包。闭包常用于隐藏一个变量，外部无法直接访问这个变量，或者封装对象的私有属性和私有方法

### 6. 什么是立即执行函数，使用立即执行函数的目的是什么

目的是避免全局变量污染

### 7. ES6 语法知道哪些，分别怎么用？

### 8. async/await 怎么用，如何捕获异常

### 9. Promise、Promise.all、Promise.race 分别怎么用

### 10. 执行顺序（setTimeout、Promise、async/await）

### 11. 什么是深拷贝、浅拷贝，如何实现深拷贝

- 方法一

```js
JSON.parse(JSON.stringify(obj))
```

- 方法二

```js
function deepClone(obj) {
  function isObject(o) {
    return (typeof o === 'object' || typeof o === 'function') && o !== null
  }
  if (!isObject(obj)) {
    return null
  }
  let newObj = Array.isArray(obj) ? [...obj] : { ...obj }
  Reflect.ownKeys(newObj).forEach(key => {
    if (isObject(newObj[key])) {
      newObj[key] = deepClone(newObj[key])
    }
  })
  return newObj
}
```

### 12. 如何用正则实现 string.trim()

```js
String.prototype.trim = function() {
  return this.replace(/(^\s*)|(\s*$)/g, '')
}
```

### 13. JS 原型是什么

### 14. ES6 中的 class 了解吗

### 15. 如何实现继承（原型继承和 extends）

- 组合继承

```js
```

- class 实现继承

```js
class Super() {
  constructor() {

  }
}
```

### 16. 如何实现数组去重

- 方法一

```js
function unique(arr) {
  return Array.from(new Set(arr))
}
```

- 方法二

```js
function unique(arr) {
  return [...new Set(arr)]
}
```

- 方法三

```js
function unique(arr) {
  return arr.filter(function(item, index, arr) {
    return arr.indexOf(item, 0) === index
  })
}
```

- 方法四

```js
function unique(array) {
  var result = []
  var obj = {}
  for (var i = 0; i < array.length; i++) {
    if (!obj[array[i]]) {
      result.push(array[i])
      obj[array[i]] = true
    }
  }
  return result
}
```

### 17. DOM 事件模型是什么

### 18. 移动端的触摸事件了解吗

### 19. 事件委托是什么？有什么好处？

### 20. 手写一个 Promise

### 21. 手写 AJAX

```js
var xhr = new XMLHttpRequest()
xhr.onreadystatechange = callback
xhr.open('GET', './data.txt', true)
xhr.send('')
function callback() {
  if (xhr.readyState < 4) {
    return
  }
  if (xhr.status !== 200) {
    alert('the status code is not ok')
    return
  }
  alert(xhr.responseText)
}
```

### 22. 手写函数防抖和函数节流

- 节流

```js
function throttle(fn, wait) {
  let timer = 0
  return function() {
    if (!timer) {
      timer = setTimeout(() => {
        fn.applay(this, arguments)
        timer = 0
      }, wait)
    }
  }
}
```

- 节流

```js
function throttle(fn, wait) {
  let lastTime = 0
  return function() {
    let now = +new Date()
    if (now - lastTime > wait) {
      fn.applay(this, arguments)
      lastTime = now
    }
  }
}
```

- 防抖

```js
function debounce(fn, wait) {
  let timer = 0
  return function() {
    timer && clearTimeout(timer)
    timer = setTimeout(() => {
      fn.applay(this, arguments)
    }, wait)
  }
}
```

### 23. 手写 JSONP

### 24. 手写一个可拖曳的 div（用 mouse 事件）

### 25. JS 垃圾回收机制

### 26. Eventloop 说一下

### 27. JS 设计模式知道吗

[设计模式](https://juejin.im/book/5bdc715fe51d454e755f75ef/section/5bdc74186fb9a049ab0d0b6b)

- 工厂模式
- 单例模式
- 适配器模式
- 装饰模式
- 代理模式
- 发布订阅模式（EventBus）
- 观察者模式

### 28. 什么是跨域，什么是 JSONP，什么是 CORS，JSONP 原理

由于浏览器同源策略限制，必须保证只有 协议+域名+端口 一模一样才允许发 AJAX 请求，这是浏览器的一种安全机制。

### 29. JS 模块化

- AMD： 用于浏览器端，RequireJS 、curl 、Dojo 、Nodules 等
- CMD： 用于服务器端，CommonJS
